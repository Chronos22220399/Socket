### http Server的编写思路

#### 主函数

1. 创建并绑定服务端套接字
2. 将服务端套接字作为参数传入主要的执行函数，开始执行
3. 返回

#### 主要执行函数

1. 创建对应的客户端套接字
2. 在循环中接收客户端的http请求
3. 接收到请求后创建新的线程
4. 判断线程是否创建成功
5. 不成功则关闭客户端套接字并退出线程

#### 解析http请求

1. 通过Get请求字符串获取文件名称
2. 再获取文件类型

#### 获取文件类型的函数（将类型转化成对应的MIME）

1. 创建一个自定义类型变量
2. 对变量进行便利，判断传入的类型是否有对应的MIME类型
3. 不对应则返回NULL

#### 线程处理函数

1. 将子线程和主线程脱离，让子线程结束后自动释放资源
2. 将传入的客户端套接字复制给本地变量
3. 创建buff并获取Get请求，将请求传入buff中
4. 判断传入的字节数是否大于0
5. 大于则获取文件信息，获取文件类型
6. 判断文件类型是否正确
   - 正确则判断文件名是否正确
     - 正确则打开文件名对应的文件
     - 不正确则打开errno.html
   - 不正确则打开errno.html
7. 发送对应的响应行、响应头和空行
8. 将文件内容传递给客户端
9. 关闭文件
10. 关闭套接字



<strong>strcpy中的参数不能为空指针，否则会因为出现错误的访问而报错</strong>



